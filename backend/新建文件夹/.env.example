# ================================================================
# S2B2C 后台系统环境配置模板
# 复制此文件为 .env 并修改配置
# ================================================================

# ========== 服务配置 ==========
NODE_ENV=development
PORT=3000

# ========== 数据库配置 ==========
DB_HOST=localhost
DB_PORT=3306
DB_NAME=s2b2c_db
DB_USER=root
DB_PASSWORD=your_password

# ========== JWT 配置（生产环境必须修改！） ==========
# 重要：密钥长度必须至少32字符！
# 生产环境必须设置强密钥，否则启动会失败
JWT_SECRET=your_super_secret_key_at_least_32_chars_long_change_this_in_production
JWT_EXPIRES_IN=7d
ADMIN_JWT_SECRET=your_admin_secret_key_at_least_32_chars_change_this_in_production
ADMIN_JWT_EXPIRES_IN=24h

# ========== CORS 配置 ==========
# 开发环境可以用 * (不启用credentials)
# 生产环境必须配置具体域名列表（启用credentials）
# 多个域名用逗号分隔，例如：https://example.com,https://admin.example.com
# 注意：配置具体域名后会自动启用 credentials: true
CORS_ORIGINS=*

# ========== 微信小程序配置 ==========
WECHAT_APPID=wx1234567890abcdef
WECHAT_SECRET=your_wechat_secret

# ========== 微信支付配置（上线前必须配置） ==========
WECHAT_MCH_ID=1234567890
WECHAT_API_KEY=your_api_key
WECHAT_CERT_PATH=/path/to/apiclient_cert.p12
WECHAT_NOTIFY_URL=https://your-domain.com/api/payment/notify

# ========== 对象存储配置 ==========
# 可选值: local | aliyun | tencent | qiniu | minio
STORAGE_PROVIDER=local

# ---------- 阿里云 OSS ----------
ALIYUN_ACCESS_KEY_ID=
ALIYUN_ACCESS_KEY_SECRET=
ALIYUN_OSS_BUCKET=
ALIYUN_OSS_REGION=oss-cn-hangzhou
ALIYUN_OSS_ENDPOINT=
ALIYUN_OSS_CUSTOM_DOMAIN=

# ---------- 腾讯云 COS ----------
TENCENT_SECRET_ID=
TENCENT_SECRET_KEY=
TENCENT_COS_BUCKET=
TENCENT_COS_REGION=ap-guangzhou
TENCENT_COS_CUSTOM_DOMAIN=

# ---------- 七牛云 ----------
QINIU_ACCESS_KEY=
QINIU_SECRET_KEY=
QINIU_BUCKET=
QINIU_DOMAIN=

# ---------- MinIO（自建） ----------
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=uploads

# ---------- 本地存储 ----------
LOCAL_UPLOAD_DIR=uploads
LOCAL_BASE_URL=/uploads

# ========== 订单配置 ==========
ORDER_AUTO_CANCEL_MINUTES=30
ORDER_AUTO_CONFIRM_DAYS=15
AGENT_ORDER_TIMEOUT_HOURS=24

# ========== 佣金配置 ==========
COMMISSION_FREEZE_DAYS=15
COMMISSION_SETTLEMENT_INTERVAL_HOURS=24

# ========== 提现配置 ==========
WITHDRAWAL_MIN_AMOUNT=10
WITHDRAWAL_MAX_SINGLE_AMOUNT=50000
WITHDRAWAL_MAX_DAILY_COUNT=3
WITHDRAWAL_FEE_RATE=0

# ========== 售后配置 ==========
REFUND_MAX_DAYS=15

# ========== 安全配置 ==========
API_RATE_LIMIT=100
LOGIN_RATE_LIMIT=5
BODY_SIZE_LIMIT=10mb

# ========== 调试开关（生产环境务必关闭！） ==========
# 默认关闭，需要显式启用
# 生产环境不要设置为 true
ENABLE_DEBUG_ROUTES=false
ENABLE_TEST_ROUTES=false
ALLOW_OPENID_AUTH=false
