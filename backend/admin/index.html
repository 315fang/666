<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S2B2C 管理后台</title>
    <!-- Element Plus CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="/admin/css/admin.css">
</head>

<body>
    <div id="app">
        <!-- 登录页面 -->
        <div v-if="!isLoggedIn" class="login-container">
            <el-card class="login-card">
                <template #header>
                    <h2>S2B2C 管理后台</h2>
                </template>
                <el-form :model="loginForm" label-width="80px">
                    <el-form-item label="用户名">
                        <el-input v-model="loginForm.username" placeholder="请输入用户名"></el-input>
                    </el-form-item>
                    <el-form-item label="密码">
                        <el-input v-model="loginForm.password" type="password" placeholder="请输入密码"
                            @keyup.enter="handleLogin"></el-input>
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" @click="handleLogin" :loading="loginLoading"
                            style="width:100%">登录</el-button>
                    </el-form-item>
                </el-form>
            </el-card>
        </div>

        <el-container v-if="isLoggedIn" class="main-container">
            <el-aside width="220px" class="sidebar">
                <div class="logo">S2B2C 后台</div>
                <el-menu :default-active="currentPage" @select="handleMenuSelect" background-color="#304156"
                    text-color="#bfcbd9" active-text-color="#409EFF">
                    <el-menu-item index="dashboard"><el-icon>
                            <Odometer />
                        </el-icon>仪表盘</el-menu-item>
                    <el-menu-item index="products"><el-icon>
                            <Goods />
                        </el-icon>商品管理</el-menu-item>
                    <el-menu-item index="orders"><el-icon>
                            <List />
                        </el-icon>订单管理</el-menu-item>
                    <el-menu-item index="users"><el-icon>
                            <User />
                        </el-icon>用户管理</el-menu-item>
                    <el-menu-item index="distribution"><el-icon>
                            <Share />
                        </el-icon>分销中心</el-menu-item>
                    <el-menu-item index="dealers"><el-icon>
                            <OfficeBuilding />
                        </el-icon>经销商</el-menu-item>
                    <el-menu-item index="content"><el-icon>
                            <Picture />
                        </el-icon>内容管理</el-menu-item>
                    <el-menu-item index="withdrawals"><el-icon>
                            <Money />
                        </el-icon>提现管理</el-menu-item>
                    <el-menu-item index="refunds"><el-icon>
                            <RefreshLeft />
                        </el-icon>售后管理</el-menu-item>
                </el-menu>
            </el-aside>

            <!-- 主内容区 -->
            <el-container>
                <el-header class="header">
                    <span>欢迎, {{ adminInfo.name }}</span>
                    <el-button type="danger" size="small" @click="handleLogout">退出</el-button>
                </el-header>
                <el-main class="main-content">
                    <!-- 仪表盘 -->
                    <div v-if="currentPage === 'dashboard'" class="page-dashboard">
                        <el-row :gutter="20">
                            <el-col :span="4"><el-card shadow="hover"><el-statistic title="今日订单"
                                        :value="stats.todayOrders" /></el-card></el-col>
                            <el-col :span="5"><el-card shadow="hover"><el-statistic title="今日销售额" prefix="¥"
                                        :value="stats.todaySales" :precision="2" /></el-card></el-col>
                            <el-col :span="4"><el-card shadow="hover"><el-statistic title="总用户数"
                                        :value="stats.totalUsers" /></el-card></el-col>
                            <el-col :span="4"><el-card shadow="hover"><el-statistic title="待发货"
                                        :value="stats.pendingShip" /></el-card></el-col>
                            <el-col :span="4"><el-card shadow="hover"><el-statistic title="待审核提现"
                                        :value="stats.pendingWithdraw" /></el-card></el-col>
                            <el-col :span="3"><el-card shadow="hover"><el-statistic title="待处理售后"
                                        :value="stats.pendingRefund" /></el-card></el-col>
                        </el-row>

                        <!-- 快捷入口 -->
                        <el-card class="mt-20" style="margin-top:20px">
                            <template #header><span>快捷操作</span></template>
                            <el-space wrap>
                                <el-button type="primary" @click="handleMenuSelect('orders')"><el-icon>
                                        <List />
                                    </el-icon>处理订单</el-button>
                                <el-button @click="handleMenuSelect('withdrawals')"><el-icon>
                                        <Money />
                                    </el-icon>审核提现</el-button>
                                <el-button @click="handleMenuSelect('refunds')"><el-icon>
                                        <RefreshLeft />
                                    </el-icon>处理售后</el-button>
                                <el-button @click="handleMenuSelect('distribution')"><el-icon>
                                        <Share />
                                    </el-icon>分销管理</el-button>
                                <el-button @click="handleMenuSelect('dealers')"><el-icon>
                                        <OfficeBuilding />
                                    </el-icon>经销商审核</el-button>
                                <el-button @click="handleMenuSelect('products')"><el-icon>
                                        <Goods />
                                    </el-icon>商品管理</el-button>
                            </el-space>
                        </el-card>
                    </div>

                    <!-- 商品管理 -->
                    <div v-if="currentPage === 'products'" class="page-products">
                        <el-tabs v-model="productTab">
                            <el-tab-pane label="商品列表" name="list">
                                <el-card>
                                    <template #header>
                                        <div style="display:flex;justify-content:space-between;align-items:center">
                                            <span>商品列表</span>
                                            <div>
                                                <el-select v-model="categoryFilter" placeholder="类目筛选" size="small"
                                                    style="width:150px;margin-right:10px" @change="loadProducts">
                                                    <el-option label="全部类目" value="" />
                                                    <el-option v-for="cat in categories" :key="cat.id" :label="cat.name"
                                                        :value="cat.id" />
                                                </el-select>
                                                <el-button type="primary" size="small"
                                                    @click="showProductDialog()">新增商品</el-button>
                                            </div>
                                        </div>
                                    </template>
                                    <el-table :data="products" stripe v-loading="loading">
                                        <el-table-column prop="id" label="ID" width="80" />
                                        <el-table-column prop="name" label="商品名称" />
                                        <el-table-column prop="category.name" label="类目" width="100" />
                                        <el-table-column prop="retail_price" label="零售价" width="100" />
                                        <el-table-column prop="stock" label="库存" width="80" />
                                        <el-table-column label="状态" width="80">
                                            <template #default="{ row }"><el-tag
                                                    :type="row.status === 1 ? 'success' : 'info'">{{ row.status === 1 ?
                                                    '上架' : '下架' }}</el-tag></template>
                                        </el-table-column>
                                        <el-table-column label="操作" width="180">
                                            <template #default="{ row }">
                                                <el-button size="small" @click="showProductDialog(row)">编辑</el-button>
                                                <el-button size="small" :type="row.status === 1 ? 'warning' : 'success'"
                                                    @click="toggleProductStatus(row)">{{ row.status === 1 ? '下架' : '上架'
                                                    }}</el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                    <el-pagination @current-change="loadProducts" :current-page="pagination.page"
                                        :page-size="pagination.limit" :total="pagination.total"
                                        layout="prev, pager, next" />
                                </el-card>
                            </el-tab-pane>
                            <el-tab-pane label="类目管理" name="categories">
                                <el-card>
                                    <template #header>
                                        <div style="display:flex;justify-content:space-between;align-items:center">
                                            <span>类目列表</span>
                                            <el-button type="primary" size="small"
                                                @click="showCategoryDialog()">新增类目</el-button>
                                        </div>
                                    </template>
                                    <el-table :data="categories" stripe v-loading="loading" row-key="id"
                                        :tree-props="{children: 'children'}">
                                        <el-table-column prop="id" label="ID" width="80" />
                                        <el-table-column prop="name" label="类目名称" />
                                        <el-table-column prop="sort" label="排序" width="80" />
                                        <el-table-column label="状态" width="80">
                                            <template #default="{ row }"><el-tag
                                                    :type="row.status === 1 ? 'success' : 'info'">{{ row.status === 1 ?
                                                    '启用' : '禁用' }}</el-tag></template>
                                        </el-table-column>
                                        <el-table-column label="操作" width="150">
                                            <template #default="{ row }">
                                                <el-button size="small" @click="showCategoryDialog(row)">编辑</el-button>
                                                <el-button size="small" type="danger"
                                                    @click="deleteCategory(row)">删除</el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                </el-card>
                            </el-tab-pane>
                        </el-tabs>
                    </div>

                    <!-- 订单管理 -->
                    <div v-if="currentPage === 'orders'" class="page-orders">
                        <el-card>
                            <template #header><span>订单列表</span></template>
                            <el-table :data="orders" stripe v-loading="loading">
                                <el-table-column prop="order_no" label="订单号" width="180" />
                                <el-table-column prop="product.name" label="商品" />
                                <el-table-column prop="total_amount" label="金额" width="100" />
                                <el-table-column label="状态" width="100">
                                    <template #default="{ row }"><el-tag :type="getOrderStatusType(row.status)">{{
                                            getOrderStatusText(row.status) }}</el-tag></template>
                                </el-table-column>
                                <el-table-column label="操作" width="150">
                                    <template #default="{ row }">
                                        <el-button size="small" @click="showOrderDetail(row)">详情</el-button>
                                        <el-button v-if="row.status === 'paid'" size="small" type="primary"
                                            @click="shipOrder(row)">发货</el-button>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadOrders" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>

                    <!-- 用户管理 -->
                    <div v-if="currentPage === 'users'" class="page-users">
                        <el-card>
                            <template #header><span>用户列表</span></template>
                            <el-table :data="users" stripe v-loading="loading">
                                <el-table-column prop="id" label="ID" width="80" />
                                <el-table-column prop="nickname" label="昵称" />
                                <el-table-column label="角色" width="100">
                                    <template #default="{ row }"><el-tag>{{ getRoleText(row.role_level)
                                            }}</el-tag></template>
                                </el-table-column>
                                <el-table-column prop="order_count" label="订单数" width="80" />
                                <el-table-column prop="total_sales" label="消费总额" width="100" />
                                <el-table-column label="操作" width="120">
                                    <template #default="{ row }"><el-button size="small"
                                            @click="showUserDetail(row)">详情</el-button></template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadUsers" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>

                    <!-- 分销中心 -->
                    <div v-if="currentPage === 'distribution'" class="page-distribution">
                        <el-card>
                            <template #header>
                                <div style="display:flex;justify-content:space-between;align-items:center">
                                    <span>分销员管理</span>
                                    <el-select v-model="distributorFilter" placeholder="筛选等级" size="small"
                                        style="width:120px" @change="loadDistributors">
                                        <el-option label="全部" value="" />
                                        <el-option label="会员" :value="1" />
                                        <el-option label="团长" :value="2" />
                                        <el-option label="合伙人" :value="3" />
                                    </el-select>
                                </div>
                            </template>
                            <el-table :data="distributors" stripe v-loading="loading">
                                <el-table-column prop="id" label="ID" width="80" />
                                <el-table-column label="头像" width="80">
                                    <template #default="{ row }"><el-avatar :src="row.avatar_url"
                                            :size="40" /></template>
                                </el-table-column>
                                <el-table-column prop="nickname" label="昵称" />
                                <el-table-column label="等级" width="100">
                                    <template #default="{ row }"><el-tag :type="getRoleLevelType(row.role_level)">{{
                                            getRoleText(row.role_level) }}</el-tag></template>
                                </el-table-column>
                                <el-table-column prop="balance" label="余额" width="100">
                                    <template #default="{ row }">¥{{ row.balance || 0 }}</template>
                                </el-table-column>
                                <el-table-column prop="total_sales" label="销售额" width="100">
                                    <template #default="{ row }">¥{{ row.total_sales || 0 }}</template>
                                </el-table-column>
                                <el-table-column label="操作" width="200">
                                    <template #default="{ row }">
                                        <el-button size="small" @click="showDistributorDetail(row)">详情</el-button>
                                        <el-dropdown trigger="click" @command="(cmd) => changeUserRole(row, cmd)"
                                            style="margin-left:8px">
                                            <el-button size="small">调整等级</el-button>
                                            <template #dropdown>
                                                <el-dropdown-menu>
                                                    <el-dropdown-item :command="1"
                                                        :disabled="row.role_level===1">会员</el-dropdown-item>
                                                    <el-dropdown-item :command="2"
                                                        :disabled="row.role_level===2">团长</el-dropdown-item>
                                                    <el-dropdown-item :command="3"
                                                        :disabled="row.role_level===3">合伙人</el-dropdown-item>
                                                </el-dropdown-menu>
                                            </template>
                                        </el-dropdown>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadDistributors" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>

                    <!-- 经销商中心 -->
                    <div v-if="currentPage === 'dealers'" class="page-dealers">
                        <el-card>
                            <template #header>
                                <div style="display:flex;justify-content:space-between;align-items:center">
                                    <span>经销商管理</span>
                                    <el-select v-model="dealerFilter" placeholder="筛选状态" size="small"
                                        style="width:120px" @change="loadDealers">
                                        <el-option label="全部" value="" />
                                        <el-option label="待审核" value="pending" />
                                        <el-option label="已通过" value="approved" />
                                        <el-option label="已拒绝" value="rejected" />
                                    </el-select>
                                </div>
                            </template>
                            <el-table :data="dealers" stripe v-loading="loading">
                                <el-table-column prop="id" label="ID" width="80" />
                                <el-table-column prop="company_name" label="公司名称" />
                                <el-table-column prop="contact_name" label="联系人" width="100" />
                                <el-table-column prop="contact_phone" label="联系电话" width="130" />
                                <el-table-column label="等级" width="80">
                                    <template #default="{ row }"><el-tag>{{ row.level || 1 }}级</el-tag></template>
                                </el-table-column>
                                <el-table-column label="状态" width="100">
                                    <template #default="{ row }"><el-tag :type="getDealerStatusType(row.status)">{{
                                            getDealerStatusText(row.status) }}</el-tag></template>
                                </el-table-column>
                                <el-table-column label="操作" width="200">
                                    <template #default="{ row }">
                                        <el-button size="small" @click="showDealerDetail(row)">详情</el-button>
                                        <template v-if="row.status === 'pending'">
                                            <el-button size="small" type="success"
                                                @click="approveDealer(row)">通过</el-button>
                                            <el-button size="small" type="danger"
                                                @click="rejectDealer(row)">拒绝</el-button>
                                        </template>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadDealers" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>
                    <!-- 内容管理 -->
                    <div v-if="currentPage === 'content'" class="page-content">
                        <el-tabs v-model="contentTab">
                            <el-tab-pane label="轮播图" name="banners">
                                <el-card>
                                    <template #header>
                                        <div style="display:flex;justify-content:space-between;align-items:center">
                                            <span>轮播图管理</span>
                                            <el-button type="primary" size="small"
                                                @click="showBannerDialog()">新增轮播图</el-button>
                                        </div>
                                    </template>
                                    <el-table :data="banners" stripe v-loading="loading">
                                        <el-table-column prop="id" label="ID" width="80" />
                                        <el-table-column label="图片" width="120"><template #default="{ row }"><el-image
                                                    :src="row.image_url" style="width:100px;height:50px"
                                                    fit="cover" /></template></el-table-column>
                                        <el-table-column prop="title" label="标题" />
                                        <el-table-column prop="sort" label="排序" width="80" />
                                        <el-table-column label="操作" width="150">
                                            <template #default="{ row }">
                                                <el-button size="small" @click="showBannerDialog(row)">编辑</el-button>
                                                <el-button size="small" type="danger"
                                                    @click="deleteBanner(row)">删除</el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                </el-card>
                            </el-tab-pane>
                            <el-tab-pane label="素材库" name="materials">
                                <el-card>
                                    <template #header>
                                        <div style="display:flex;justify-content:space-between;align-items:center">
                                            <span>素材管理</span>
                                            <div>
                                                <el-select v-model="materialTypeFilter" placeholder="素材类型" size="small"
                                                    style="width:120px;margin-right:10px" @change="loadMaterials">
                                                    <el-option label="全部" value="" />
                                                    <el-option label="图片" value="image" />
                                                    <el-option label="视频" value="video" />
                                                    <el-option label="文案" value="text" />
                                                </el-select>
                                                <el-button type="primary" size="small"
                                                    @click="showMaterialDialog()">新增素材</el-button>
                                            </div>
                                        </div>
                                    </template>
                                    <el-table :data="materials" stripe v-loading="loading">
                                        <el-table-column prop="id" label="ID" width="80" />
                                        <el-table-column label="预览" width="120">
                                            <template #default="{ row }">
                                                <el-image v-if="row.type==='image'" :src="row.url"
                                                    style="width:80px;height:60px" fit="cover" />
                                                <el-tag v-if="row.type==='video'">视频</el-tag>
                                                <span v-if="row.type==='text'">{{ row.content?.substring(0,20) }}...</span>
                                            </template>
                                        </el-table-column>
                                        <el-table-column prop="title" label="标题" />
                                        <el-table-column label="类型" width="80"><template #default="{ row }"><el-tag>{{
                                                    {image:'图片',video:'视频',text:'文案'}[row.type]
                                                    }}</el-tag></template></el-table-column>
                                        <el-table-column label="操作" width="150">
                                            <template #default="{ row }">
                                                <el-button size="small" @click="showMaterialDialog(row)">编辑</el-button>
                                                <el-button size="small" type="danger"
                                                    @click="deleteMaterial(row)">删除</el-button>
                                            </template>
                                        </el-table-column>
                                    </el-table>
                                    <el-pagination @current-change="loadMaterials" :current-page="pagination.page"
                                        :page-size="pagination.limit" :total="pagination.total"
                                        layout="prev, pager, next" />
                                </el-card>
                            </el-tab-pane>
                        </el-tabs>
                    </div>

                    <!-- 提现管理 -->
                    <div v-if="currentPage === 'withdrawals'" class="page-withdrawals">
                        <el-card>
                            <template #header><span>提现申请</span></template>
                            <el-table :data="withdrawals" stripe v-loading="loading">
                                <el-table-column prop="id" label="ID" width="80" />
                                <el-table-column prop="user.nickname" label="用户" />
                                <el-table-column prop="amount" label="金额" width="100" />
                                <el-table-column label="状态" width="100"><template #default="{ row }"><el-tag
                                            :type="getWithdrawStatusType(row.status)">{{ row.status
                                            }}</el-tag></template></el-table-column>
                                <el-table-column label="操作" width="200">
                                    <template #default="{ row }">
                                        <template v-if="row.status === 'pending'">
                                            <el-button size="small" type="success"
                                                @click="approveWithdrawal(row)">通过</el-button>
                                            <el-button size="small" type="danger"
                                                @click="rejectWithdrawal(row)">拒绝</el-button>
                                        </template>
                                        <el-button v-if="row.status === 'approved'" size="small" type="primary"
                                            @click="completeWithdrawal(row)">确认打款</el-button>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadWithdrawals" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>

                    <!-- 售后管理 -->
                    <div v-if="currentPage === 'refunds'" class="page-refunds">
                        <el-card>
                            <template #header><span>售后申请</span></template>
                            <el-table :data="refunds" stripe v-loading="loading">
                                <el-table-column prop="id" label="ID" width="80" />
                                <el-table-column prop="order.order_no" label="订单号" />
                                <el-table-column prop="type" label="类型" width="100" />
                                <el-table-column prop="amount" label="金额" width="100" />
                                <el-table-column label="状态" width="100"><template #default="{ row }"><el-tag
                                            :type="getRefundStatusType(row.status)">{{ row.status
                                            }}</el-tag></template></el-table-column>
                                <el-table-column label="操作" width="200">
                                    <template #default="{ row }">
                                        <template v-if="row.status === 'pending'">
                                            <el-button size="small" type="success"
                                                @click="approveRefund(row)">同意</el-button>
                                            <el-button size="small" type="danger"
                                                @click="rejectRefund(row)">拒绝</el-button>
                                        </template>
                                    </template>
                                </el-table-column>
                            </el-table>
                            <el-pagination @current-change="loadRefunds" :current-page="pagination.page"
                                :page-size="pagination.limit" :total="pagination.total" layout="prev, pager, next" />
                        </el-card>
                    </div>
                </el-main>
            </el-container>
        </el-container>

        <!-- 商品编辑对话框 -->
        <el-dialog v-model="productDialogVisible" :title="productForm.id ? '编辑商品' : '新增商品'" width="600px">
            <el-form :model="productForm" label-width="100px">
                <el-form-item label="商品名称"><el-input v-model="productForm.name" /></el-form-item>
                <el-form-item label="零售价"><el-input-number v-model="productForm.retail_price" :min="0"
                        :precision="2" /></el-form-item>
                <el-form-item label="会员价"><el-input-number v-model="productForm.member_price" :min="0"
                        :precision="2" /></el-form-item>
                <el-form-item label="库存"><el-input-number v-model="productForm.stock" :min="0" /></el-form-item>
                <el-form-item label="描述"><el-input v-model="productForm.description" type="textarea" /></el-form-item>
            </el-form>
            <template #footer><el-button @click="productDialogVisible = false">取消</el-button><el-button type="primary"
                    @click="saveProduct">保存</el-button></template>
        </el-dialog>

        <!-- 轮播图编辑对话框 -->
        <el-dialog v-model="bannerDialogVisible" :title="bannerForm.id ? '编辑轮播图' : '新增轮播图'" width="500px">
            <el-form :model="bannerForm" label-width="100px">
                <el-form-item label="标题"><el-input v-model="bannerForm.title" /></el-form-item>
                <el-form-item label="图片URL"><el-input v-model="bannerForm.image_url" /></el-form-item>
                <el-form-item label="跳转链接"><el-input v-model="bannerForm.link_url" /></el-form-item>
                <el-form-item label="排序"><el-input-number v-model="bannerForm.sort" :min="0" /></el-form-item>
            </el-form>
            <template #footer><el-button @click="bannerDialogVisible = false">取消</el-button><el-button type="primary"
                    @click="saveBanner">保存</el-button></template>
        </el-dialog>

        <!-- 发货对话框 -->
        <el-dialog v-model="shipDialogVisible" title="订单发货" width="400px">
            <el-form :model="shipForm" label-width="100px">
                <el-form-item label="快递公司"><el-input v-model="shipForm.express_company" /></el-form-item>
                <el-form-item label="快递单号"><el-input v-model="shipForm.express_no" /></el-form-item>
            </el-form>
            <template #footer><el-button @click="shipDialogVisible = false">取消</el-button><el-button type="primary"
                    @click="confirmShip">确认发货</el-button></template>
        </el-dialog>

        <!-- 类目编辑对话框 -->
        <el-dialog v-model="categoryDialogVisible" :title="categoryForm.id ? '编辑类目' : '新增类目'" width="500px">
            <el-form :model="categoryForm" label-width="100px">
                <el-form-item label="类目名称"><el-input v-model="categoryForm.name" /></el-form-item>
                <el-form-item label="父类目">
                    <el-select v-model="categoryForm.parent_id" placeholder="无（顶级类目）" clearable>
                        <el-option label="无（顶级类目）" :value="null" />
                        <el-option v-for="cat in categories" :key="cat.id" :label="cat.name" :value="cat.id" />
                    </el-select>
                </el-form-item>
                <el-form-item label="图标URL"><el-input v-model="categoryForm.icon_url" placeholder="可选" /></el-form-item>
                <el-form-item label="排序"><el-input-number v-model="categoryForm.sort" :min="0" /></el-form-item>
                <el-form-item label="状态">
                    <el-switch v-model="categoryForm.status" :active-value="1" :inactive-value="0" active-text="启用"
                        inactive-text="禁用" />
                </el-form-item>
            </el-form>
            <template #footer><el-button @click="categoryDialogVisible = false">取消</el-button><el-button type="primary"
                    @click="saveCategory">保存</el-button></template>
        </el-dialog>

        <!-- 素材编辑对话框 -->
        <el-dialog v-model="materialDialogVisible" :title="materialForm.id ? '编辑素材' : '新增素材'" width="500px">
            <el-form :model="materialForm" label-width="100px">
                <el-form-item label="标题"><el-input v-model="materialForm.title" /></el-form-item>
                <el-form-item label="类型">
                    <el-select v-model="materialForm.type">
                        <el-option label="图片" value="image" />
                        <el-option label="视频" value="video" />
                        <el-option label="文案" value="text" />
                    </el-select>
                </el-form-item>
                <el-form-item v-if="materialForm.type !== 'text'" label="URL"><el-input v-model="materialForm.url"
                        placeholder="图片或视频URL" /></el-form-item>
                <el-form-item v-if="materialForm.type === 'text'" label="文案内容"><el-input v-model="materialForm.content"
                        type="textarea" :rows="4" /></el-form-item>
            </el-form>
            <template #footer><el-button @click="materialDialogVisible = false">取消</el-button><el-button type="primary"
                    @click="saveMaterial">保存</el-button></template>
        </el-dialog>
    </div>

    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <!-- Element Plus -->
    <script src="https://unpkg.com/element-plus"></script>
    <!-- Element Plus Icons -->
    <script src="https://unpkg.com/@element-plus/icons-vue"></script>
    <!-- 主应用 -->
    <script src="/admin/js/app.js"></script>
</body>

</html>
