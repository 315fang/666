<!-- ç‰©æµè½¨è¿¹é¡µé¢ -->
<view class="logistics-page">
  <!-- é¡¶éƒ¨ç‰©æµå…¬å¸å¡ç‰‡ -->
  <view class="logistics-header">
    <view class="company-info">
      <view class="company-logo">
        <text class="logo-icon">ğŸšš</text>
      </view>
      <view class="company-details">
        <text class="company-name">{{order.express_company || 'ç‰©æµå…¬å¸'}}</text>
        <text class="tracking-no">è¿å•å·ï¼š{{order.tracking_no || 'æš‚æ— '}}</text>
      </view>
    </view>
    <button class="copy-btn" bindtap="onCopyTrackingNo" wx:if="{{order.tracking_no}}">
      å¤åˆ¶å•å·
    </button>
  </view>

  <!-- ç‰©æµçŠ¶æ€å¡ç‰‡ -->
  <view class="status-card" wx:if="{{logistics.status}}">
    <view class="status-icon {{logistics.status}}">
      <text wx:if="{{logistics.status === 'delivered'}}">âœ“</text>
      <text wx:elif="{{logistics.status === 'shipping'}}">ğŸ“¦</text>
      <text wx:else>â°</text>
    </view>
    <view class="status-info">
      <text class="status-text">{{statusText[logistics.status] || 'æŸ¥è¯¢ä¸­'}}</text>
      <text class="status-time" wx:if="{{logistics.latestUpdate}}">
        {{logistics.latestUpdate}}
      </text>
    </view>
  </view>

  <!-- ç‰©æµè½¨è¿¹æ—¶é—´çº¿ -->
  <view class="timeline-section" wx:if="{{tracks.length > 0}}">
    <view class="section-title">ç‰©æµè½¨è¿¹</view>
    <view class="timeline">
      <view
        class="timeline-item {{index === 0 ? 'active' : ''}}"
        wx:for="{{tracks}}"
        wx:key="index"
      >
        <view class="timeline-dot">
          <view class="dot-inner"></view>
        </view>
        <view class="timeline-content">
          <view class="timeline-text">{{item.context}}</view>
          <view class="timeline-time">{{item.time}}</view>
          <view class="timeline-location" wx:if="{{item.location}}">
            ğŸ“ {{item.location}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{!loading && tracks.length === 0}}">
    <image class="empty-icon" src="/assets/images/empty-logistics.svg" mode="aspectFit"></image>
    <text class="empty-text">æš‚æ— ç‰©æµä¿¡æ¯</text>
    <text class="empty-desc">è¯·ç¨åå†æŸ¥è¯¢æˆ–è”ç³»å•†å®¶</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <view class="loading-spinner"></view>
    <text class="loading-text">æ­£åœ¨æŸ¥è¯¢ç‰©æµä¿¡æ¯...</text>
  </view>

  <!-- åº•éƒ¨æ“ä½œåŒº -->
  <view class="actions-footer">
    <button class="action-btn secondary" bindtap="onRefresh">
      <text class="btn-icon">ğŸ”„</text>
      <text>åˆ·æ–°</text>
    </button>
    <button class="action-btn primary" open-type="contact">
      <text class="btn-icon">ğŸ’¬</text>
      <text>è”ç³»å®¢æœ</text>
    </button>
  </view>
</view>
