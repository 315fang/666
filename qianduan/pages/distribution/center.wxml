<!--pages/distribution/center.wxml - åˆ†é”€ä¸­å¿ƒ-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <image class="user-avatar" src="{{userInfo.avatar_url || ''}}" mode="aspectFill"></image>
    <view class="user-info">
      <view class="user-name">
        <text>{{userInfo.nickname || 'å¾®ä¿¡ç”¨æˆ·'}}</text>
        <text class="user-level">{{userInfo.role_name}}</text>
      </view>
      <view class="inviter-info">
        <text>é‚€è¯·äºº: {{userInfo.inviter ? userInfo.inviter.nickname : 'å¹³å°ç›´å±'}}</text>
      </view>
    </view>
  </view>

  <!-- å¤´éƒ¨ç»Ÿè®¡ -->
  <view class="header-card">
    <view class="header-main">
      <view class="total-label">ç´¯è®¡ä½£é‡‘(å…ƒ)</view>
      <view class="total-amount">{{stats.totalEarnings || '0.00'}}</view>
    </view>
    <view class="header-sub">
      <view class="sub-item">
        <text class="sub-label">å¯æç°</text>
        <text class="sub-value">{{stats.availableAmount || '0.00'}}</text>
      </view>
      <view class="sub-item">
        <text class="sub-label">å¾…ç»“ç®—</text>
        <text class="sub-value">{{stats.frozenAmount || '0.00'}}</text>
      </view>
    </view>
    <view class="withdraw-btn" bindtap="onWithdrawTap">ç«‹å³æç°</view>
  </view>

  <!-- èœå•å¯¼èˆª -->
  <view class="menu-grid">
    <view class="menu-item" bindtap="onTeamTap">
      <view class="menu-icon team-icon">ğŸ‘¥</view>
      <view class="menu-text">æˆ‘çš„å›¢é˜Ÿ</view>
      <view class="menu-sub">{{team.totalCount || 0}}äºº</view>
    </view>
    <view class="menu-item" bindtap="onOrderTap">
      <view class="menu-icon order-icon">ğŸ“œ</view>
      <view class="menu-text">åˆ†é”€è®¢å•</view>
      <view class="menu-sub">æŸ¥çœ‹æ˜ç»†</view>
    </view>
    <view class="menu-item" bindtap="onPosterTap">
      <view class="menu-icon code-icon">ğŸ“·</view>
      <view class="menu-text">æ¨å¹¿æµ·æŠ¥</view>
      <view class="menu-sub">é‚€è¯·å¥½å‹</view>
    </view>
  </view>

  <!-- é‚€è¯·ç æ¨¡æ‹Ÿ -->
  <view class="invite-card">
    <view class="invite-title">æˆ‘çš„é‚€è¯·ç </view>
    <view class="invite-code">{{userInfo.openid || 'æœªç™»å½•'}}</view>
    <view class="invite-tips">é•¿æŒ‰å¤åˆ¶æˆ–åˆ†äº«ç»™å¥½å‹</view>
  </view>
</view>
