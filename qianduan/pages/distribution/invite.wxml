<!-- 邀请好友页面（问卷邀请版） -->
<view class="invite-page">
    <!-- 加载中 -->
    <view wx:if="{{loading}}" class="loading-wrap">
        <view class="spinner"></view>
        <text class="loading-text">加载中...</text>
    </view>

    <!-- 无资格提示（loading 完成后才判断） -->
    <view wx:elif="{{!canShare}}" class="no-eligibility">
        <view class="no-eligibility-card">
            <image class="lock-icon" src="/assets/icons/clipboard.svg" mode="aspectFit"/>
            <text class="no-eligibility-title">暂无分享资格</text>
            <text class="no-eligibility-desc">您尚未加入任何团队，需要先加入一个团队后才能分享邀请问卷。</text>
            <button class="action-btn" bindtap="onNoEligibilityTap">了解更多</button>
        </view>
    </view>

    <!-- 有资格 - 显示分享区域 -->
    <view wx:else>
        <!-- 分享卡片 -->
        <view class="share-section">
            <view class="share-card">
                <view class="share-card-header">
                    <image class="share-icon" src="/assets/icons/gift.svg" mode="aspectFit"/>
                    <text class="share-title">邀请好友加入团队</text>
                </view>
                <text class="share-desc">分享邀请问卷给好友，好友填写后即可加入您的团队</text>
                <button class="share-btn" open-type="share">
                    <image class="btn-icon" src="/assets/icons/check.svg" mode="aspectFit"/>
                    分享邀请问卷
                </button>
            </view>
        </view>

        <!-- 团队统计 -->
        <view class="team-stats">
            <view class="stats-title">我的团队</view>
            <view class="stats-grid">
                <view class="stat-item">
                    <view class="stat-number">{{team.totalCount || 0}}</view>
                    <view class="stat-label">总人数</view>
                </view>
                <view class="stat-item">
                    <view class="stat-number">{{team.directCount || 0}}</view>
                    <view class="stat-label">直推人数</view>
                </view>
                <view class="stat-item">
                    <view class="stat-number">{{team.indirectCount || 0}}</view>
                    <view class="stat-label">间接推荐</view>
                </view>
            </view>
        </view>

        <!-- 邀请奖励说明 -->
        <view class="reward-info">
            <view class="info-title">
                <image class="title-icon" src="/assets/icons/gift.svg" mode="aspectFit"/> 邀请奖励
            </view>
            <view class="info-list">
                <view class="info-item">
                    <image class="info-icon-img" src="/assets/icons/check.svg" mode="aspectFit"/>
                    <text class="info-text">好友首单返佣：订单金额的 10%</text>
                </view>
                <view class="info-item">
                    <image class="info-icon-img" src="/assets/icons/check.svg" mode="aspectFit"/>
                    <text class="info-text">团队持续收益：间接推荐 5%</text>
                </view>
                <view class="info-item">
                    <image class="info-icon-img" src="/assets/icons/check.svg" mode="aspectFit"/>
                    <text class="info-text">邀请越多，等级越高，佣金越多</text>
                </view>
            </view>
        </view>

        <!-- 如何邀请步骤 -->
        <view class="how-to">
            <view class="info-title">
                <image class="title-icon" src="/assets/icons/clipboard.svg" mode="aspectFit"/> 如何邀请
            </view>
            <view class="step-list">
                <view class="step-item">
                    <view class="step-number">1</view>
                    <view class="step-content">
                        <text class="step-title">分享邀请问卷</text>
                        <text class="step-desc">点击上方按钮，将邀请问卷分享给好友</text>
                    </view>
                </view>
                <view class="step-item">
                    <view class="step-number">2</view>
                    <view class="step-content">
                        <text class="step-title">好友填写问卷</text>
                        <text class="step-desc">好友打开问卷，填写基本信息</text>
                    </view>
                </view>
                <view class="step-item">
                    <view class="step-number">3</view>
                    <view class="step-content">
                        <text class="step-title">自动加入团队</text>
                        <text class="step-desc">问卷提交后，好友自动加入您的团队</text>
                    </view>
                </view>
                <view class="step-item">
                    <view class="step-number">4</view>
                    <view class="step-content">
                        <text class="step-title">获得佣金收益</text>
                        <text class="step-desc">好友下单后，佣金自动到账</text>
                    </view>
                </view>
            </view>
        </view>

        <!-- 操作按钮 -->
        <view class="action-area">
            <button class="team-btn" bindtap="goTeam">查看我的团队</button>
            <button class="center-btn" bindtap="goCenter">返回分佣中心</button>
        </view>
    </view>
</view>
