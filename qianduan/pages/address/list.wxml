<!--pages/address/list.wxml - æ”¶è´§åœ°å€åˆ—è¡¨-->
<view class="container">
  <!-- åœ°å€åˆ—è¡¨å®¹å™¨ -->
  <view class="address-list-container">
    <!-- åœ°å€åˆ—è¡¨ -->
    <view class="address-list" wx:if="{{addresses.length > 0}}">
      <view class="address-card {{selectMode ? 'selectable' : ''}}"
            wx:for="{{addresses}}" wx:key="id"
            data-index="{{index}}" bindtap="onSelectAddress">
        <view class="address-main">
          <view class="address-top">
            <text class="address-name">{{item.receiver_name}}</text>
            <text class="address-phone">{{item.phone}}</text>
            <text class="address-tag" wx:if="{{item.is_default}}">é»˜è®¤</text>
          </view>
          <view class="address-detail">
            {{item.province}} {{item.city}} {{item.district}} {{item.detail}}
          </view>
        </view>
        <view class="address-actions">
          <view class="action-btn" data-id="{{item.id}}" catchtap="onSetDefault" wx:if="{{!item.is_default}}">
            <text>è®¾ä¸ºé»˜è®¤</text>
          </view>
          <view class="action-btn" data-id="{{item.id}}" catchtap="onEditAddress">
            <text>ç¼–è¾‘</text>
          </view>
          <view class="action-btn danger" data-id="{{item.id}}" catchtap="onDeleteAddress">
            <text>åˆ é™¤</text>
          </view>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{!loading && addresses.length === 0}}">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">æš‚æ— æ”¶è´§åœ°å€</text>
      <text class="empty-sub">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ </text>
    </view>

    <!-- åŠ è½½ä¸­ -->
    <view class="loading-state" wx:if="{{loading}}">
      <text>åŠ è½½ä¸­...</text>
    </view>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="bottom-bar">
    <view class="add-btn" bindtap="onAddAddress">+ æ–°å¢æ”¶è´§åœ°å€</view>
  </view>
</view>
