<view class="order-card" bindtap="onCardTap">
  <!-- 订单头部 -->
  <view class="order-card__header">
    <text class="order-card__number">订单号: {{order.order_no}}</text>
    <view class="order-card__status order-card__status--{{order.status}}">
      {{statusText}}
    </view>
  </view>

  <!-- 商品列表 -->
  <view class="order-card__items">
    <view
      wx:for="{{order.items}}"
      wx:key="id"
      class="order-card__item"
    >
      <image
        class="order-card__item-image"
        src="{{item.product_image || '/assets/images/placeholder.svg'}}"
        mode="aspectFill"
      ></image>
      <view class="order-card__item-info">
        <text class="order-card__item-name">{{item.product_name}}</text>
        <text wx:if="{{item.sku_attrs}}" class="order-card__item-spec">{{item.sku_attrs}}</text>
        <view class="order-card__item-bottom">
          <text class="order-card__item-price">¥{{item.price}}</text>
          <text class="order-card__item-quantity">x{{item.quantity}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 订单总额 -->
  <view class="order-card__footer">
    <text class="order-card__total-label">订单总额:</text>
    <text class="order-card__total-price">¥{{order.total_amount}}</text>
  </view>

  <!-- 操作按钮 -->
  <view wx:if="{{showActions}}" class="order-card__actions">
    <button
      wx:if="{{order.status === 'pending'}}"
      class="order-card__action-btn order-card__action-btn--secondary"
      catchtap="onCancelOrder"
    >
      取消订单
    </button>
    <button
      wx:if="{{order.status === 'pending'}}"
      class="order-card__action-btn order-card__action-btn--primary"
      catchtap="onPayOrder"
    >
      立即支付
    </button>
    <button
      wx:if="{{order.status === 'shipped'}}"
      class="order-card__action-btn order-card__action-btn--primary"
      catchtap="onConfirmOrder"
    >
      确认收货
    </button>
    <button
      wx:if="{{order.status === 'completed'}}"
      class="order-card__action-btn order-card__action-btn--secondary"
      catchtap="onViewCommission"
    >
      查看佣金
    </button>
  </view>
</view>
